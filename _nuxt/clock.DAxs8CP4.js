import{u as d}from"./vue.f36acd1f.MASVoqOS.js";import{d as M,_ as f,v as u,x as n,t as w}from"./entry.CsrFNjPq.js";const P=M({setup(){d({title:"Clock"})},layout:!1,name:"Clock",data(){return{width:400,height:400,ctx:null,canvas:null}},methods:{speak(){let s=new SpeechSynthesisUtterance;s.text="北京时间"+new Date().toLocaleTimeString(),s.voice=speechSynthesis.getVoices().filter(function(e){return e.name=="Microsoft Kangkang - Chinese (Simplified, PRC)"})[0],window.speechSynthesis.speak(s)},draw(){let s=new Date,e=s.getSeconds(),h=s.getMinutes(),c=s.getHours();this.ctx.clearRect(0,0,this.width,this.height),this.ctx.beginPath(),this.ctx.lineCap="round";for(let t=1;t<13;t++){let l=Math.cos(t*30/180*Math.PI)*175+200,a=-Math.sin(t*30/180*Math.PI)*175+200,x=Math.cos(t*30/180*Math.PI)*160+200,r=-Math.sin(t*30/180*Math.PI)*160+200;if(this.ctx.moveTo(l,a),this.ctx.lineTo(x,r),this.ctx.font="30px Arial",t>9){let i=Math.cos((t*30-90)/180*Math.PI)*140+200-13,o=Math.sin((t*30-90)/180*Math.PI)*140+200+13;this.ctx.fillText(t,i,o),console.log(`x="${i}" y="${o}"`)}else{let i=Math.cos((t*30-90)/180*Math.PI)*140+194,o=Math.sin((t*30-90)/180*Math.PI)*140+200+10;this.ctx.fillText(t,i,o),console.log(`x="${i}" y="${o}"`)}}this.ctx.lineWidth=11,this.ctx.strokeStyle="#000",this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.ctx.beginPath(),this.ctx.moveTo(Math.cos((c*30+h/2-90)/180*Math.PI)*110+200,Math.sin((c*30+h/2-90)/180*Math.PI)*110+200),this.ctx.lineTo(200,200),this.ctx.save(),this.ctx.lineCap="round",this.ctx.closePath(),this.ctx.shadowOffsetX=-5,this.ctx.shadowBlur=10,this.ctx.shadowColor="#000",this.ctx.lineWidth=16,this.ctx.strokeStyle="#222",this.ctx.stroke(),this.ctx.restore(),this.ctx.beginPath(),this.ctx.moveTo(Math.cos((h*6+e*.1-90)/180*Math.PI)*150+200,Math.sin((h*6+e*.1-90)/180*Math.PI)*150+200),this.ctx.lineTo(200,200),this.ctx.save(),this.ctx.closePath(),this.ctx.shadowOffsetX=-5,this.ctx.shadowBlur=10,this.ctx.shadowColor="#000",this.ctx.lineWidth=13,this.ctx.strokeStyle="#222",this.ctx.stroke(),this.ctx.restore(),this.ctx.beginPath(),this.ctx.moveTo(Math.cos((e*6-90)/180*Math.PI)*170+200,Math.sin((e*6-90)/180*Math.PI)*170+200),this.ctx.lineTo(200,200),this.ctx.save(),this.ctx.closePath(),this.ctx.shadowOffsetX=-5,this.ctx.shadowBlur=10,this.ctx.shadowColor="#000",this.ctx.lineWidth=5,this.ctx.strokeStyle="rgb(213, 153, 0)",this.ctx.stroke(),this.ctx.restore(),this.ctx.closePath(),this.ctx.save(),this.ctx.arc(200,200,20,0,Math.PI*2),this.ctx.shadowOffsetX=-5,this.ctx.shadowBlur=10,this.ctx.shadowColor="#000",this.ctx.fillStyle="rgb(213, 153, 0)",this.ctx.fill(),this.ctx.restore()}},mounted(){this.canvas=this.$refs.clockCanvas,this.ctx=this.canvas.getContext("2d"),this.draw()}}),g={style:{width:"100%","text-align":"center"}},p=["width","height"];function k(s,e,h,c,t,l){return w(),u("div",g,[n("canvas",{ref:"clockCanvas",width:s.width,height:s.height},null,8,p),n("button",{onClick:e[0]||(e[0]=(...a)=>s.speak&&s.speak(...a))},"报时")])}const y=f(P,[["render",k]]);export{y as default};
